

//								V.25.74
//###############################################################################################
// ********************************* Karanlƒ±k Ekran D√ºzelt BA≈û **********************************
//###############################################################################################

function sayfayiDinle() {
    let observer = new MutationObserver(() => {
        let panel = document.getElementById("mainPreviewForm:onizlemePanel");
        let btn = document.getElementById("karanlik-duzelt-btn");

        if (panel && !btn) {
            karanlikDuzeltButonuEkle();
        }

        if (!panel && btn) {
            btn.remove();
        }
    });

    observer.observe(document.body, { childList: true, subtree: true });

    if (document.getElementById("mainPreviewForm:onizlemePanel")) {
        karanlikDuzeltButonuEkle();
    }
}

function karanlikDuzeltButonuEkle() {
    let btn = document.createElement("button");
    btn.id = "karanlik-duzelt-btn";
    btn.type = "button"; // Sayfa yenilemesini √∂nler
    btn.innerHTML = "<span style='font-size: 25px; margin-bottom:4px;'>üåô</span>";
    btn.style = `
        width: 35px; height: 35px;
        background: rgba(224, 236, 252, 0);
        color: white; border: none; border-radius: 100%;
        cursor: pointer; font-size: 14px;
        z-index: 10000; margin:3px 12px 3px 12px;
        transition: all 0.4s ease-in-out;
        overflow: hidden; white-space: nowrap;
        display: flex; align-items: center; justify-content: center;
    `;

    btn.onmouseover = function () {
        btn.style.width = "196px";
        btn.style.background= "linear-gradient(135deg, #007AFF, #005BBB)";
        btn.innerHTML = "üåô &nbsp; Karanlƒ±k Modu D√ºzelt";
        btn.style.justifyContent = "flex-start";
        btn.style.paddingLeft = "15px";
    };
    btn.onmouseleave = function () {
        btn.style.width = "35px";
        btn.style.background="rgba(224, 236, 252, 0)";
        btn.innerHTML = "<span style='font-size: 25px; margin-bottom:4px;'>üåô</span>";
        btn.style.justifyContent = "center";
        btn.style.paddingLeft = "0px";
    };

    btn.onclick = function () {
        const blob = new Blob(["Ctrl + F5 tetiklendi!"], { type: 'text/plain' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'KaranlikEkranCoz';
        document.body.appendChild(a);
        a.click();
        a.remove();

        showDownloadAlert();

        setTimeout(() => {
            window.showAHKDiv = true;
            if (window.showAHKDiv) {
                createAHKAlertDiv();
            }
        }, 5000);
    };

    let firstMenuButton = document.querySelector(".buttonMenuContainerDefault");
    if (firstMenuButton) {
        firstMenuButton.parentNode.insertBefore(btn, firstMenuButton);
    }
}

function showNotification(message, type = "success") {
    let notification = document.createElement("div");
    notification.innerText = message;
    notification.style = `
        position: fixed; top: 15px; right: 15px;
        background: ${type === "success" ? "#4CAF50" : type === "error" ? "#FF5733" : "#007AFF"};
        color: white; padding: 12px 20px;
        border-radius: 8px; font-size: 14px; font-weight: bold;
        z-index: 10001; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        opacity: 1; transition: opacity 0.5s ease-in-out;
    `;
    document.body.appendChild(notification);

    setTimeout(() => {
        notification.style.opacity = "0";
        setTimeout(() => document.body.removeChild(notification), 500);
    }, 3000);
}

function showDownloadAlert() {
    const downloadAlert = document.createElement('div');
    downloadAlert.style.position = 'fixed';
    downloadAlert.style.top = '20px';
    downloadAlert.style.left = '20px';
    downloadAlert.style.background = 'linear-gradient(135deg, #2a2a2a, #3a3a3a)';
    downloadAlert.style.color = '#fff';
    downloadAlert.style.padding = '15px 25px';
    downloadAlert.style.borderRadius = '16px';
    downloadAlert.style.boxShadow = '0 6px 25px rgba(0,0,0,0.6)';
    downloadAlert.style.zIndex = '10000';
    downloadAlert.style.fontFamily = 'Times New Roman, sans-serif';
    downloadAlert.style.fontSize = '15px';
    downloadAlert.style.maxWidth = '320px';
    downloadAlert.style.display = 'flex';
    downloadAlert.style.alignItems = 'flex-start';
    downloadAlert.style.gap = '12px';
    downloadAlert.style.opacity = '0';
    downloadAlert.style.transition = 'opacity 0.5s ease-in-out';

    downloadAlert.innerHTML = `
        <div style="font-size: 20px; line-height: 1;">üì•</div>
        <div>
            <div style="font-weight: 600;">TAKBƒ∞S Plus'a Baƒülanƒ±yor</div>
            <br>
            <div style="opacity: 0.85; color:yellow; ">Sayfadan Ayrƒ±lmayƒ±nƒ±z !</div>
            <br>
        </div>
        <button style="margin-left:auto;background:none;border:none;color:white;font-size:16px;cursor:pointer;" id="closeDownloadAlert">‚úñ</button>
    `;

    document.body.appendChild(downloadAlert);

    requestAnimationFrame(() => {
        downloadAlert.style.opacity = '1';
    });

    document.getElementById('closeDownloadAlert').addEventListener('click', () => {
        downloadAlert.style.opacity = '0';
        setTimeout(() => {
            downloadAlert.remove();
        }, 300);
    });

    setTimeout(() => {
        downloadAlert.style.opacity = '0';
        setTimeout(() => {
            if (downloadAlert.parentNode) downloadAlert.remove();
        }, 300);
    }, 5000);
}

function createAHKAlertDiv() {
    const overlay = document.createElement('div');
    overlay.id = 'ahkBlurOverlay';
    overlay.style.position = 'fixed';
    overlay.style.top = '0';
    overlay.style.left = '0';
    overlay.style.width = '100%';
    overlay.style.height = '100%';
    overlay.style.background = 'rgba(0, 0, 0, 0.5)';
    overlay.style.backdropFilter = 'blur(5px)';
    overlay.style.zIndex = '9998';
    document.body.appendChild(overlay);

    const alertDiv = document.createElement('div');
    alertDiv.style.position = 'fixed';
    alertDiv.style.top = '50%';
    alertDiv.style.left = '50%';
    alertDiv.style.transform = 'translate(-50%, -50%)';
    alertDiv.style.backgroundColor = '#333';
    alertDiv.style.color = '#fff';
    alertDiv.style.padding = '20px';
    alertDiv.style.borderRadius = '12px';
    alertDiv.style.boxShadow = '0 4px 20px rgba(0,0,0,0.6)';
    alertDiv.style.zIndex = '9999';
    alertDiv.style.textAlign = 'center';
    alertDiv.style.fontFamily = 'Times New Roman, sans-serif';
    alertDiv.style.maxWidth = '400px';
    alertDiv.style.fontSize = '16px';
    alertDiv.innerHTML = `
        <h1 style="font-weight:bold; color:#eb236b; font-size:20px; "> ƒ∞≈ûLEM BA≈ûARISIZ !</h1>
        <hr>
        <br>
        <p>ƒ∞≈ülem ger√ßekle≈üirken sayfadan ayrƒ±ldƒ±nƒ±z veya TAKBƒ∞S Plus y√ºkl√º deƒüil. </p>
        <br>
        <p>TAKBƒ∞S Plus, Takbis'te √ße≈üitli g√∂revleri otomatikle≈ütirilmesi, ve sorunlarƒ±n giderilmesine yardƒ±mcƒ± olan bir yazƒ±lƒ±mdƒ±r.</p>
        <br>
        <p><strong>Y√ºklemek ister misiniz?</strong></p>
        <br>
        <button id="loadAHK" type="button" style="padding: 10px 30px; background-color: #007BFF; color: white; border: none; border-radius: 10px; cursor: pointer; margin: 5px;">
            Y√ºkle
        </button>
        <button id="cancelAHK" type="button" style="padding: 10px 30px; background-color: #f44336; color: white; border: none; border-radius: 10px; cursor: pointer; margin: 5px;">
            Vazge√ß
        </button>
    `;
    document.body.appendChild(alertDiv);

    const closeAlert = () => {
        alertDiv.style.display = 'none';
        overlay.remove();
    };

    document.getElementById('loadAHK').addEventListener('click', () => {
        window.open('https://tkgmplus.github.io/TAKBIS//', '_blank');
        closeAlert();
        location.reload();// Sayfayƒ± yenile
    });

    document.getElementById('cancelAHK').addEventListener('click', () => {
        closeAlert();
        location.reload();// Sayfayƒ± yenile
    });
}

// Sayfa y√ºklendiƒüinde dinlemeyi ba≈ülat
sayfayiDinle();

//###############################################################################################
// ********************************** Karanlƒ±k Ekran D√ºzelt SON**********************************
//###############################################################################################





//###############################################################################################
// ************************************ Evrak Ekle ƒ∞sim BA≈û *************************************
//###############################################################################################


(function() {
    'use strict';

    const labelID = "windowCevapEvrakForm:evrakEkTabView:dosyaAdi";      // Label ID
    const textareaID = "windowCevapEvrakForm:evrakEkTabView:dosyaAciklama"; // Textarea ID

    let textarea = document.getElementById(textareaID);
    let label = document.getElementById(labelID);

    // Kullanƒ±cƒ±nƒ±n textarea'ya m√ºdahale edip etmediƒüini kontrol etmek i√ßin bayrak
    let userModified = false;

    if (textarea) {
        textarea.addEventListener('input', function() {
            userModified = true; // Kullanƒ±cƒ± bir ≈üey yazarsa artƒ±k otomatik g√ºncelleme yapƒ±lmaz
        });
    }

    function updateTextarea() {
        let label = document.getElementById(labelID);
        let textarea = document.getElementById(textareaID);

        if (label && textarea && !userModified) {
            let labelText = label.textContent.trim();
            if (labelText && textarea.value.trim() === "") {
                textarea.value = labelText;
            }
        }
    }

    // DOM deƒüi≈üikliklerini izleyen MutationObserver kullanarak sayfadaki deƒüi≈üiklikleri takip et
    const observer = new MutationObserver(updateTextarea);
    const config = { childList: true, subtree: true, characterData: true };

    let labelElement = document.getElementById(labelID);
    if (labelElement) {
        observer.observe(labelElement, config);
    }

    // Belirli aralƒ±klarla g√ºncelleme yap
    setInterval(updateTextarea, 1000);
})();

//###############################################################################################
// ************************************ Evrak Ekle ƒ∞sim SON *************************************
//###############################################################################################




//###############################################################################################
// ******************************* Evrak Ekle ƒ∞sim Taslak BA≈û ***********************************
//###############################################################################################
(function() {
    'use strict';

    const labelID = "inboxItemInfoForm:evrakEkTabView:dosyaAdi";      // Label ID
    const textareaID = "inboxItemInfoForm:evrakEkTabView:dosyaAciklama"; // Textarea ID

    let textarea = document.getElementById(textareaID);
    let label = document.getElementById(labelID);

    // Kullanƒ±cƒ±nƒ±n textarea'ya m√ºdahale edip etmediƒüini kontrol etmek i√ßin bayrak
    let userModified = false;

    if (textarea) {
        textarea.addEventListener('input', function() {
            userModified = true; // Kullanƒ±cƒ± bir ≈üey yazarsa artƒ±k otomatik g√ºncelleme yapƒ±lmaz
        });
    }

    function updateTextarea() {
        let label = document.getElementById(labelID);
        let textarea = document.getElementById(textareaID);

        if (label && textarea && !userModified) {
            let labelText = label.textContent.trim();
            if (labelText && textarea.value.trim() === "") {
                textarea.value = labelText;
            }
        }
    }

    // DOM deƒüi≈üikliklerini izleyen MutationObserver kullanarak sayfadaki deƒüi≈üiklikleri takip et
    const observer = new MutationObserver(updateTextarea);
    const config = { childList: true, subtree: true, characterData: true };

    let labelElement = document.getElementById(labelID);
    if (labelElement) {
        observer.observe(labelElement, config);
    }

    // Belirli aralƒ±klarla g√ºncelleme yap
    setInterval(updateTextarea, 1000);
})();

//###############################################################################################
// ************************************ Evrak Ekle ƒ∞sim Son *************************************
//###############################################################################################







//###############################################################################################
// ************************ Otomatik Giri≈ü - KEP Giri≈ü - E-ƒ∞mza BA≈ûLA **************************
//###############################################################################################

(function() {
    'use strict';

    let isClicked = false;  // Kep Butonun tƒ±klanma durumunu kontrol eden bayrak
    let isClicked_g = false; // Giri≈ü Butonun tƒ±klanma durumunu kontrol eden bayrak








      //****************************************************************************************
     //****************************************   Sticky Menu BA≈û   **************************************
    //******************************************************************************************


    // üìå localStorage ile veri saklama
function getValue(key, defaultValue) {
    return localStorage.getItem(key) || defaultValue;
}

function setValue(key, value) {
    localStorage.setItem(key, value);
}


// üìå ≈ûifre g√ºncelleme kontrol√º
window.onload = function () {
    let sifreGuncellemeDurumu = getValue("sifreGuncellemeDurumu", "0");

    if (sifreGuncellemeDurumu === "0") {
        acDialog("Yeni Kullanƒ±cƒ± Adƒ± Girin", "Kullanƒ±cƒ± Adƒ±", "", (newKullaniciAdi) => {
            setValue("kullanici_adi", newKullaniciAdi);
            showNotification("Kullanƒ±cƒ± adƒ± g√ºncellendi!");

            acDialog("Yeni ≈ûifreyi Girin", "≈ûifre", "", (newSifre) => {
                setValue("sifre", newSifre);
                showNotification("≈ûifre g√ºncellendi!");

                acDialog("Yeni e-ƒ∞mza PIN Girin", "e-ƒ∞mza PIN", "", (newEimza) => {
                    setValue("e_imza", newEimza);
                    showNotification("e-ƒ∞mza PIN g√ºncellendi!");

                    acDialog("Yeni KEP Parola Girin", "KEP Parola", "", (newKepParola) => {
                        setValue("kep_parola", newKepParola);
                        showNotification("KEP Parola g√ºncellendi!");

                        acDialog("Yeni KEP ≈ûifre Girin", "KEP ≈ûifre", "", (newKepSifre) => {
                            setValue("kep_sifre", newKepSifre);
                            showNotification("KEP ≈ûifre g√ºncellendi!");




                            // **T√ºm giri≈üler tamamlandƒ±, ≈üimdi sifreGuncellemeDurumu = "1" yap**
                            setValue("sifreGuncellemeDurumu", "1");

                            // **Sayfayƒ± yenileyerek yeni deƒüerleri y√ºkle**
                            setTimeout(() => location.reload(), 2000);
                        });
                    });
                });
            });
        });
    }
};




// üìå Kullanƒ±cƒ± bilgileri (Varsayƒ±lan deƒüerler)
let kullanici_adi = getValue("kullanici_adi", "A");
let sifre = getValue("sifre", "A");
let e_imza = getValue("e_imza", "");
let kep_parola = getValue("kep_parola", "");
let kep_sifre = getValue("kep_sifre", "");

// üìå Bildirim Sistemi
function showNotification(message, type = "success") {
    let notification = document.createElement("div");
    notification.innerText = message;
    notification.style = `
        position: fixed; top: 10px; right: 10px; padding: 10px 20px;
        border-radius: 5px; font-size: 14px; font-weight: bold;
        background: ${type === "success" ? "#4CAF50" : "#FF5733"};
        color: white; z-index: 10000; transition: opacity 0.5s;
    `;
    document.body.appendChild(notification);

    setTimeout(() => {
        notification.style.opacity = "0";
        setTimeout(() => document.body.removeChild(notification), 500);
    }, 3000);
}









function acDialog(baslik, placeholder, mevcutDeger, callback) {
    // üìå **T√ºm arka plan inputlarƒ±nƒ± devre dƒ±≈üƒ± bƒ±rak**
    let allInputs = document.querySelectorAll("input, textarea, select");
    allInputs.forEach(input => input.disabled = true);

    let modalBackground = document.createElement("div");
    modalBackground.style = `
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(0, 0, 0, 0.5); z-index: 9999;
        display: flex; align-items: center; justify-content: center;
    `;

    let modal = document.createElement("div");
    modal.style = `
        background: white; padding: 20px; border-radius: 10px;
        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.3); text-align: center;
        width: 300px;
    `;

    let title = document.createElement("div");
    title.innerText = baslik;
    title.style = "font-size: 16px; font-weight: bold; margin-bottom: 10px;";
    modal.appendChild(title);

    let input = document.createElement("input");
    input.type = placeholder.toLowerCase().includes("*") ? "password" : "text";
    input.placeholder = placeholder;
    input.value = mevcutDeger || "";

    // üìå **Tarayƒ±cƒ±nƒ±n otomatik doldurmasƒ±nƒ± tamamen kapat**
    input.setAttribute("autocomplete", "off");
    input.setAttribute("autocorrect", "off");
    input.setAttribute("autocapitalize", "off");
    input.setAttribute("spellcheck", "false");

    input.style = `
        padding: 8px; width: 90%; margin-bottom: 10px;
        border: 1px solid #ccc; border-radius: 5px; text-align: center;
    `;
    modal.appendChild(input);

    let buttonContainer = document.createElement("div");
    buttonContainer.style = "display: flex; justify-content: space-between; margin-top: 10px;";

    let confirmButton = document.createElement("button");
    confirmButton.innerText = "Onayla";
    confirmButton.style = `
        padding: 8px 15px; background: #4CAF50; color: white;
        border: none; border-radius: 5px; cursor: pointer;
        width: 45%;
    `;
    confirmButton.onclick = function () {
        if (input.value.trim() !== "") {
            document.body.removeChild(modalBackground);

            // üìå **Arka plan inputlarƒ±nƒ± tekrar aktif et**
            allInputs.forEach(input => input.disabled = false);

            callback(input.value.trim());
        } else {
            showNotification("Bo≈ü bƒ±rakƒ±lamaz!", "error");
        }
    };

    let cancelButton = document.createElement("button");
    cancelButton.innerText = "Vazge√ß";
    cancelButton.style = `
        padding: 8px 15px; background: #FF5733; color: white;
        border: none; border-radius: 5px; cursor: pointer;
        width: 45%;
    `;
    cancelButton.onclick = function () {
        document.body.removeChild(modalBackground);

        // üìå **Arka plan inputlarƒ±nƒ± tekrar aktif et**
        allInputs.forEach(input => input.disabled = false);

        showNotification("ƒ∞≈ülem iptal edildi.", "error");
    };

    buttonContainer.appendChild(cancelButton);
    buttonContainer.appendChild(confirmButton);
    modal.appendChild(buttonContainer);
    modalBackground.appendChild(modal);
    document.body.appendChild(modalBackground);

    // üìå **Input otomatik se√ßilsin ve odaklansƒ±n**
    setTimeout(() => {
        input.focus();
        input.select();
    }, 10);
}






// üìå Sticky Men√º olu≈ütur
let menuContainer = document.createElement("div");
menuContainer.id = "ebys-plus-menu";
menuContainer.style = `
    position: fixed; top: 5px; left: 5px;
    background: rgba(0, 0, 0, 0.7); color: white;
    padding: 15px; border-radius: 5px;
    z-index: 9999; width: 210px; display: none;
    box-shadow: 2px 2px 10px rgba(0,0,0,0.5);
`;

// Ba≈ülƒ±k
let baslik = document.createElement("div");
baslik.innerText = "‚öôÔ∏è EBYS Plus";
baslik.style = "font-weight: bold; text-align: center; font-size: 18px; margin-bottom: 10px;";
menuContainer.appendChild(baslik);

// üìå ≈ûifre doƒürulama fonksiyonu
function sifreDogrulama(callback) {
    acDialog("≈ûifre Doƒürulama", "* Ebys ≈ûifre Doƒürula *", "", (inputSifre) => {
        if (inputSifre === sifre) {
            callback();
        } else {
            showNotification("Hatalƒ± ≈üifre!", "error");
        }
    });
}

// üìå G√ºncelleme butonlarƒ±na doƒürulama ekleme
function addButton(text, key, variable) {
    let btn = document.createElement("button");
    btn.innerText = text;
    btn.style = `
        display: block; padding: 7px; width: 90%;
        margin: 5px auto; border: none; cursor: pointer;
        border-radius: 5px; background: #4CAF50; color: white;
    `;

    btn.onclick = function() {
        sifreDogrulama(() => {
            acDialog(`Yeni ${text}`, text, variable, (newValue) => {
                setValue(key, newValue);
                showNotification(`${text} g√ºncellendi!`);
                location.reload();
            });
        });
    };
    menuContainer.appendChild(btn);
}

addButton("Kullanƒ±cƒ± Adƒ± Deƒüi≈ütir", "kullanici_adi", kullanici_adi);
addButton("≈ûifreyi Deƒüi≈ütir", "sifre", sifre);
addButton("E-ƒ∞mza PIN Deƒüi≈ütir", "e_imza", e_imza);
addButton("KEP Parola Deƒüi≈ütir", "kep_parola", kep_parola);
addButton("KEP ≈ûifre Deƒüi≈ütir", "kep_sifre", kep_sifre);


let updateAllBtn = document.createElement("button");
updateAllBtn.innerText = "üîí T√ºm ≈ûifreleri G√ºncelle";
updateAllBtn.style = `
    display: block; padding: 7px; width: 90%;
    margin: 10px auto; border: none; cursor: pointer;
    border-radius: 5px; background: #FF5733; color: white;
`;

updateAllBtn.onclick = function() {
    sifreDogrulama(() => {
        acDialog("Yeni Kullanƒ±cƒ± Adƒ± Girin", "Kullanƒ±cƒ± Adƒ±", kullanici_adi, (newKullaniciAdi) => {
            setValue("kullanici_adi", newKullaniciAdi);
            showNotification("Kullanƒ±cƒ± adƒ± g√ºncellendi!");

            acDialog("Yeni ≈ûifreyi Girin", "≈ûifre", sifre, (newSifre) => {
                setValue("sifre", newSifre);
                showNotification("≈ûifre g√ºncellendi!");



                acDialog("Yeni e_imza Girin", "e_imza", e_imza, (neweimza) => {
                    setValue("e_imza", neweimza);
                    showNotification("≈ûifre g√ºncellendi!");


                acDialog("Yeni kep_parola Girin", "kep_parola", kep_parola, (newkepparola) => {
                    setValue("kep_parola", newkepparola);
                    showNotification("≈ûifre g√ºncellendi!");



                acDialog("Yeni kep_sifre Girin", "kep_sifre", kep_sifre, (newkepsifre) => {
                    setValue("kep_sifre", newkepsifre);
                    showNotification("≈ûifre g√ºncellendi!");
                    location.reload();

                        });
                    });
                });
            });
        });
    });

};

let updateCheckBtn = document.createElement("button");
updateCheckBtn.innerText = "üîÑ G√ºncellemeleri Kontrol Et";
updateCheckBtn.style = `
    display: block; padding: 7px; width: 90%;
    margin: 5px auto; border: none; cursor: pointer;
    border-radius: 5px; background: #007bff; color: white;
`;

updateCheckBtn.onclick = function() {
    checkForUpdate(true); // G√ºncelleme kontrol fonksiyonunu √ßalƒ±≈ütƒ±r
};


    let hakkimizda = document.createElement("button");
hakkimizda.innerText = " Hakkƒ±mƒ±zda";
hakkimizda.style = `
    display: block; padding: 7px; width: 90%;
    margin: 5px auto; border: none; cursor: pointer;
    border-radius: 5px; background: #f3690e; color: white;
`;

hakkimizda.onclick = function() {
   window.open('https://tkgmplus.github.io/TAKBIS//', '_blank');
};


// üìå Sticky men√ºye butonu ekle
menuContainer.appendChild(updateCheckBtn);
menuContainer.appendChild(hakkimizda);

menuContainer.appendChild(updateAllBtn);
document.body.appendChild(menuContainer);

let toggleButton = document.createElement("button");
toggleButton.innerText = "‚öôÔ∏è EBYS Plus Men√º";
toggleButton.style = `
    position: fixed; top: 4px; left: 248px;
    z-index: 10000; padding: 6px 10px 8px 10px;
    background: rgb(28, 120, 171); color: white;
    border: none; border-radius: 5px; cursor: pointer;
`;
toggleButton.onclick = function() {
    let menu = document.getElementById("ebys-plus-menu");
    menu.style.display = menu.style.display === "none" ? "block" : "none";
};
document.body.appendChild(toggleButton);


      //**************************************************************************************************
     //****************************************   Sticky Menu SON   **************************************
    //****************************************************************************************************




     // Bu fonksiyon input alanƒ±nƒ± bulur ve deƒüerini insansƒ± ≈üekilde ayarlar
    function simulateTyping(inputElement, text) {
        inputElement.focus();
        inputElement.value = '';

        for (let i = 0; i < text.length; i++) {
            let char = text[i];
            let keydownEvent = new KeyboardEvent('keydown', { key: char, bubbles: true });
            inputElement.dispatchEvent(keydownEvent);

            inputElement.value += char;  // ≈ûifreyi karakter karakter yaz
            let keyupEvent = new KeyboardEvent('keyup', { key: char, bubbles: true });
            inputElement.dispatchEvent(keyupEvent);
        }

        inputElement.dispatchEvent(new Event('input', { bubbles: true }));
        inputElement.dispatchEvent(new Event('change', { bubbles: true }));
    }


    // Fonksiyon Ba≈ülangƒ±√ß
    function setPasswordValue() {


        // E-imza Ba≈ülangƒ±√ß
        const input_3 = document.getElementById('txtPinKod');
        if (input_3 && input_3.value !== e_imza) {
            simulateTyping(input_3, e_imza);
        }
        // E-imza Son




        // Kep Kƒ±smƒ± Ba≈ülangƒ±√ß
        const input = document.getElementById('passwordParola');
        if (input && input.value !== kep_parola) {
            simulateTyping(input, kep_parola);
        }

        const input_2 = document.getElementById('passwordSifre');
        if (input_2 && input_2.value !== kep_sifre) {
            simulateTyping(input_2, kep_sifre);
        }


        // Giri≈ü butonuna bir kere tƒ±klayƒ±n ve sonra durun
        if (!isClicked) {
            const loginButton = document.querySelector('button[id="kepLogin2FormId:j_idt385"]');
            if (loginButton) {
                loginButton.click();
                isClicked = true;  // Tƒ±klama tamamlandƒ±ƒüƒ±nda bayraƒüƒ± g√ºncelle
            }
        }
        // Kep Kƒ±smƒ± Son




        //Ebys Giri≈ü Ba≈ülangƒ±√ß

    // Eƒüer zaten giri≈ü yapƒ±ldƒ±ysa script √ßalƒ±≈ümasƒ±n
    if (document.querySelector('.logout') || document.body.innerText.includes('Ho≈ügeldiniz')) {
        return;
    }


        // Kullanƒ±cƒ± adƒ± ve ≈üifreyi klavye sim√ºlasyonu ile doldurun
        let usernameField = document.querySelector('input[name="parolaSertifikaAccordion:uForm:txtUKullaniciAdi"]');
        simulateTyping(usernameField, kullanici_adi); // Kullanƒ±cƒ± adƒ±nƒ±zƒ± yazƒ±n

        let passwordField = document.querySelector('input[id="loginUSifre"]');
        simulateTyping(passwordField, sifre); // ≈ûifrenizi yazƒ±n



        // Giri≈ü butonuna bir kere tƒ±klayƒ±n ve sonra durun
        if (!isClicked_g) {
            const loginButton_g =  document.querySelector('button[type="submit"]');
            if (loginButton_g) {
                loginButton_g.click();
                isClicked_g = true;  // Tƒ±klama tamamlandƒ±ƒüƒ±nda bayraƒüƒ± g√ºncelle
            }
        }



        //Ebys Giri≈ü Son



    }
// Fonksiyon Son





    // Dinamik olarak sayfa y√ºklendik√ße kontrol etmek i√ßin MutationObserver kullanƒ±yoruz
    const observer = new MutationObserver(() => {
        setPasswordValue();
    });

    // Sayfa i√ßeriƒüini izlemek i√ßin yapƒ±landƒ±rma
    observer.observe(document.body, { childList: true, subtree: true });

    // Ba≈ülangƒ±√ßta hemen kontrol et
    setPasswordValue();
})();

//###############################################################################################
// ************************ Otomatik Giri≈ü - KEP Giri≈ü - E-ƒ∞mza SON *****************************
//###############################################################################################
